<%- include("topBar") -%>

<!-- Content Column -->
<div class="col-lg-12 mb-4">

  <!-- Project Card Example -->
  <div class="card shadow mb-4">
    <div class="card-header py-3">
      <h6 class="m-0 font-weight-bold text-primary">Create Activity</h6>
    </div>
      <form name="activityForm" action="/createActivity" method="POST" autocomplete="off" onsubmit="return validateCreateForm('activity')" required>
        <div class="card-body">
          <div class="form-group">
            <label for="addressInput">Location</label>
            <input type="text" class="form-control" id="addressInput" style="width:50%" placeholder="Search Address" name="address">
          </div>

          <!-- <div class="form-group">
            <label for="rangeInput" class="form-label">Distance 3KM</label>
            <input type="text" class="form-control" id="distance" value="1500" name="distance" style="display:none; border: none;">
          </div> -->

          <%  function minDateTime() { %>
          <%  var d = new Date(); %>
          <%  var month = '' + (d.getMonth() + 1); %>
          <%  var day = '' + d.getDate(); %>
          <%  var year = d.getFullYear();%>
          <%     var hour = '' + d.getHours(); %>
          <%     var minute = '' + d.getMinutes(); %>

          <%     if(hour.length < 2){ %>
          <%       hour = '0' + hour; %>
          <%     } %>

          <%     if(minute.length < 2){ %>
          <%       minute = '0' + minute; %>
          <%     } %>

        <%    if (month.length < 2){%>
        <%        month = '0' + month;%>
        <%      }%>
        <%    if (day.length < 2){%>
        <%        day = '0' + day;%>
        <%      }%>



        <%    return [year, month, day].join('-') + "T" + hour + ":" + minute ;%>
        <%    }%>

      <%   var min = minDateTime(); %>

      <div class="form-group">
      <label for="activityDateTime" class="form-label">Date and Time</label>
      <input id="activityDateTime" class="form-control" style="width:15%;" type="datetime-local" name="dateTime" min=<%= min %>>
      </div>

      <div class="form-group">
      <label for="activityName" class="form-label">Activity Name</label>
      <input id="activityName" class="form-control" style="width:30%;" type="text" name="name">
      </div>

      <div class="form-group">
      <label for="activityDescription" class="form-label">Description</label>
      <textarea id="activityDescription" class="form-control" name="description"></textarea>
      </div>

      <table style="width:80%;" class="form-group">
        <tr>
          <td>
            <label for="inviteSomeone" class="form-label">Invite Someone</label>
            <label class="switch">
              <input type="checkbox" id="inviteSomeone">
              <span class="slider round" onclick="inviteSomeone()"></span>
            </label>

            <div class="form-group" id="dogOwners" style="display:none;">
              <div id="dogOwnersInput" class="dropdown-check-list" tabindex="100">
                <span class="anchor" onclick="dropdownChecklistOwner()">Select Other Dog Owner</span>
                <ul class="items">

                  <%  for(var i = 0 ; i < dogOwners.length ; i++){ %>
                      <li><input type="checkbox" name="owners[]" value="<%- dogOwners[i]._id %>"/> <%= dogOwners[i].username %></li>
                  <%  } %>



                </ul>
              </div>
            </div>

          </td>
        </tr>
        <tr>
          <td>
            <label for="inviteGroup" class="form-label">Invite Group</label>
            <label class="switch">
              <input type="checkbox" id="inviteGroup">
              <span class="slider round" onclick="inviteGroup();"></span>
            </label>

            <div class="form-group" id="groups" style="display:none;">
              <div id="groupsInput" class="dropdown-check-list" tabindex="100">
                <span class="anchor" onclick="dropdownChecklistGroup()">Select Groups</span>
                <ul class="items">

                  <%  for(var i = 0 ; i < foundGroup.length ; i++){ %>
                      <li><input type="checkbox" name="groups[]" value="<%- foundGroup[i]._id %>"/> <%= foundGroup[i].name %></li>
                  <%  } %>



                </ul>
              </div>
            </div>


          </td>
        </tr>
      </table>

      <button type="submit" class="btn btn-primary">Save</button>
      <a class="btn btn-outline-primary" href="/" role="button">Cancel</a>

        </div>

      </form>
































  </div>
</div>


<%- include("bottomBar") -%>
