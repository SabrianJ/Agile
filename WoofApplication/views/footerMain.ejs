
<!-- <script src="https://cdn.jsdelivr.net/npm/evo-calendar@1.1.2/evo-calendar/js/evo-calendar.min.js"></script> -->


<script src="/index.js" charset="utf-8"></script>

<script async
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyADEpRHtEOhgdpt4OUefFTUhsxTH7wALSQ&libraries=geometry,places&callback=initMap">
</script>

<script src="/evo-calendar.js" charset="utf-8"></script>

<% if(user.type == "Dog Owner"){ %>
  <script>
          var activity = <%- JSON.stringify(foundActivity); %>
          var training = <%- JSON.stringify(foundTraining); %>

          const months = {
            0: 'January',
            1: 'February',
            2: 'March',
            3: 'April',
            4: 'May',
            5: 'June',
            6: 'July',
            7: 'August',
            8: 'September',
            9: 'October',
            10: 'November',
            11: 'December'
          }

          $(document).ready(function() {
              $('#calendar').evoCalendar({
                  'eventHeaderFormat': 'MM dd',
                  'theme': 'Royal Navy',
                  'todayHighlight' : true
              })

              for(var i=0 ; i < activity.length ; i++){
                var date = new Date(activity[i].dateTime);
                var currentMonth = months[date.getMonth()];

                $('#calendar').evoCalendar('addCalendarEvent', {
                    id: activity[i]._id,
                    name: activity[i].name,
                    description: activity[i].description,
                    date: currentMonth + " " + date.getDate() + ", " + date.getFullYear(),
                    type: 'activity'
                });
              }

              for(var i=0 ; i < training.length ; i++){
                var date = new Date(training[i].dateTime);
                var currentMonth = months[date.getMonth()];

                $('#calendar').evoCalendar('addCalendarEvent', {
                    id: training[i]._id,
                    name: training[i].name,
                    description: training[i].description,
                    date: currentMonth + " " + date.getDate() + ", " + date.getFullYear(),
                    type: 'training'
                });
              }

          });
  </script>
<% }else{ %>
  <script>
          var event = <%- JSON.stringify(foundEvent); %>
          var training = <%- JSON.stringify(foundTraining); %>

          const months = {
            0: 'January',
            1: 'February',
            2: 'March',
            3: 'April',
            4: 'May',
            5: 'June',
            6: 'July',
            7: 'August',
            8: 'September',
            9: 'October',
            10: 'November',
            11: 'December'
          }

          $(document).ready(function() {
              $('#calendar').evoCalendar({
                  'eventHeaderFormat': 'MM dd',
                  'theme': 'Royal Navy',
                  'todayHighlight' : true
              })

              for(var i=0 ; i < event.length ; i++){
                var date = new Date(event[i].dateTime);
                var currentMonth = months[date.getMonth()];

                $('#calendar').evoCalendar('addCalendarEvent', {
                    id: event[i]._id,
                    name: event[i].name,
                    description: event[i].description,
                    date: currentMonth + " " + date.getDate() + ", " + date.getFullYear(),
                    type: 'event'
                });
              }

              for(var i=0 ; i < training.length ; i++){
                var date = new Date(training[i].dateTime);
                var currentMonth = months[date.getMonth()];

                $('#calendar').evoCalendar('addCalendarEvent', {
                    id: training[i]._id,
                    name: training[i].name,
                    description: training[i].description,
                    date: currentMonth + " " + date.getDate() + ", " + date.getFullYear(),
                    type: 'training'
                });
              }

          });
  </script>


<% } %>

</body>

<!-- Footer -->
<footer class="sticky-footer bg-white">
    <div class="container my-auto">
        <div class="copyright text-center my-auto">
            <span>Copyright Woof 2021 Barbara Ferreira, Sabrian Jufenlindo, Jessalyn Huang</span>
        </div>
    </div>
</footer>
<!-- End of Footer -->

</html>
